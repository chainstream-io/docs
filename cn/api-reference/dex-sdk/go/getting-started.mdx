---
title: '快速开始'
description: 'Go SDK 快速开始指南'
---

## 安装

```bash
go get github.com/chainstream-io/chainstream-go-sdk
```

## 初始化

```go
package main

import (
    "log"
    "github.com/chainstream-io/chainstream-go-sdk"
)

func main() {
    // 初始化客户端
    client, err := chainstream.NewDexClient("YOUR_ACCESS_TOKEN", &chainstream.DexAggregatorOptions{
        ServerUrl: "https://api-dex.chainstream.io",
        StreamUrl: "wss://realtime-dex.chainstream.io/connection/websocket",
    })
    if err != nil {
        log.Fatal(err)
    }
    defer client.Close()
}
```

## 基本用法

### 查询代币信息
```go
// 获取代币详情
tokenInfo, err := client.Token.GetToken(context.Background(), "sol", "6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN")
if err != nil {
    log.Fatal(err)
}
```

### 订阅实时数据
```go
// 直接订阅即可，SDK 会自动检测连接状态并建立连接
unsubscribe := client.Stream.SubscribeTokenCandles(
    "sol",
    "6p6xgHyF7AeE6TZkSmFsko444wqoP15icUSqi2jfGiPN",
    "1m",
    func(candle api.TokenCandle) {
        log.Printf("新K线: %+v", candle)
    },
    "", // filter（可选）
)
defer unsubscribe()
```

<Note>
调用 `SubscribeXXX` 方法时，SDK 会自动检测 WebSocket 连接状态，如果未连接会自动建立连接，无需手动调用 `Connect()`。
</Note>

## 配置选项

<ParamField path="accessToken" type="string" required>
  API访问令牌
</ParamField>

<ParamField path="options.ServerUrl" type="string">
  API服务器URL (默认: https://api-dex.chainstream.io)
</ParamField>

<ParamField path="options.StreamUrl" type="string">
  WebSocket流URL (默认: wss://realtime-dex.chainstream.io/connection/websocket)
</ParamField>

<ParamField path="options.Debug" type="bool">
  启用调试模式
</ParamField>

<ParamField path="options.AutoConnectWebSocket" type="bool">
  是否在初始化时自动连接 WebSocket（默认：false）。通常不需要设置，因为订阅方法会自动处理连接。
</ParamField>

## 令牌提供者

对于动态令牌管理，您可以使用令牌提供者：

```go
type MyTokenProvider struct {
    // 您的令牌提供者实现
}

func (p *MyTokenProvider) GetToken() (string, error) {
    // 返回当前令牌
    return "your-current-token", nil
}

// 使用令牌提供者初始化
client, err := chainstream.NewDexClientWithTokenProvider(&MyTokenProvider{}, &chainstream.DexAggregatorOptions{})
```

## 下一步

- 查看 [API 参考](./api-reference) 了解所有可用方法
- 学习 [WebSocket 订阅](./websocket) 获取实时数据
