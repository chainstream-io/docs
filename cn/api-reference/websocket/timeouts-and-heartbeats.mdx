---
title: '超时和心跳'
description: '保持 WebSocket 连接活跃'
---

## 概述

要维持活跃的 WebSocket 连接，你需要了解超时机制以及如何使用心跳消息。

## 连接超时

如果服务器在 60 秒内没有收到任何消息，将自动关闭连接。这有助于维护服务器资源并清理过期连接。

## 心跳消息

如果你订阅的频道不经常收到消息（少于每 60 秒一次），你应该发送心跳消息来保持连接活跃。

### Ping 格式

发送如下格式的 ping 消息：

```json
{
  "method": "ping"
}
```

### Pong 响应

服务器将响应：

```json
{
  "channel": "pong"
}
```

<Note>
建议在客户端实现自动心跳机制，在没有发送其他消息的情况下每 30 秒发送一次 ping 消息。
</Note> 